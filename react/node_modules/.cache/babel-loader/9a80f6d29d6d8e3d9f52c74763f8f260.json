{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _callbackProxy = require('./callback-proxy');\n\nvar _callbackProxy2 = _interopRequireDefault(_callbackProxy);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar callbackProxies = new WeakMap();\n\nvar BaseWrapper = function () {\n  function BaseWrapper(_ref) {\n    var callbackNames = _ref.callbackNames,\n        options = _ref.options,\n        qq = _ref.qq,\n        type = _ref.type;\n\n    _classCallCheck(this, BaseWrapper);\n\n    var callbacks = options.callbacks || {};\n    var optionsSansCallbacks = (0, _objectAssign2.default)({}, options);\n    delete optionsSansCallbacks.callbacks;\n    this.options = optionsSansCallbacks;\n    callbackProxies.set(this, createCallbackProxies(callbackNames));\n    registerOptionsCallbacks({\n      callbacks: callbacks,\n      callbackProxies: callbackProxies.get(this)\n    });\n    this.methods = createFineUploader({\n      callbackProxies: callbackProxies.get(this),\n      options: optionsSansCallbacks,\n      qq: qq,\n      type: type\n    });\n    this.qq = qq;\n  }\n\n  _createClass(BaseWrapper, [{\n    key: 'off',\n    value: function off(name, callback) {\n      var normalizedName = normalizeCallbackName(name);\n      var proxy = callbackProxies.get(this)[normalizedName];\n      proxy.remove(callback);\n    }\n  }, {\n    key: 'on',\n    value: function on(name, callback) {\n      var normalizedName = normalizeCallbackName(name);\n      var proxy = callbackProxies.get(this)[normalizedName];\n      proxy.add(callback);\n    }\n  }]);\n\n  return BaseWrapper;\n}();\n\nexports.default = BaseWrapper;\n\nvar createCallbackProxies = function createCallbackProxies(names) {\n  var proxyMap = {};\n  names.forEach(function (callbackName) {\n    proxyMap[callbackName] = new _callbackProxy2.default(callbackName);\n  });\n  return proxyMap;\n};\n\nvar createFineUploader = function createFineUploader(_ref2) {\n  var callbackProxies = _ref2.callbackProxies,\n      options = _ref2.options,\n      qq = _ref2.qq,\n      type = _ref2.type;\n  var optionsCopy = (0, _objectAssign2.default)({\n    callbacks: {}\n  }, options);\n  Object.keys(callbackProxies).forEach(function (callbackName) {\n    var proxy = callbackProxies[callbackName];\n    optionsCopy.callbacks[callbackName] = proxy.proxyFunction;\n  });\n\n  if (type === 'traditional') {\n    return new qq.FineUploaderBasic(optionsCopy);\n  } else {\n    return new qq[type].FineUploaderBasic(optionsCopy);\n  }\n};\n\nvar normalizeCallbackName = function normalizeCallbackName(name) {\n  if (!name.match(/^on[A-Z]/)) {\n    return 'on' + name[0].toUpperCase() + name.slice(1);\n  }\n\n  return name;\n};\n\nvar registerOptionsCallbacks = function registerOptionsCallbacks(_ref3) {\n  var callbacks = _ref3.callbacks,\n      callbackProxies = _ref3.callbackProxies;\n  Object.keys(callbacks).forEach(function (callbackName) {\n    var callbackProxy = callbackProxies[callbackName];\n    callbackProxy.add(callbacks[callbackName]);\n  });\n};","map":{"version":3,"sources":["/var/www/html/react/react/node_modules/fine-uploader-wrappers/base-wrapper.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_objectAssign","require","_objectAssign2","_interopRequireDefault","_callbackProxy","_callbackProxy2","obj","__esModule","default","_classCallCheck","instance","TypeError","callbackProxies","WeakMap","BaseWrapper","_ref","callbackNames","options","qq","type","callbacks","optionsSansCallbacks","set","createCallbackProxies","registerOptionsCallbacks","get","methods","createFineUploader","off","name","callback","normalizedName","normalizeCallbackName","proxy","remove","on","add","names","proxyMap","forEach","callbackName","_ref2","optionsCopy","keys","proxyFunction","FineUploaderBasic","match","toUpperCase","slice","_ref3","callbackProxy"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _callbackProxy = require('./callback-proxy');\n\nvar _callbackProxy2 = _interopRequireDefault(_callbackProxy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar callbackProxies = new WeakMap();\n\nvar BaseWrapper = function () {\n    function BaseWrapper(_ref) {\n        var callbackNames = _ref.callbackNames,\n            options = _ref.options,\n            qq = _ref.qq,\n            type = _ref.type;\n\n        _classCallCheck(this, BaseWrapper);\n\n        var callbacks = options.callbacks || {};\n\n        var optionsSansCallbacks = (0, _objectAssign2.default)({}, options);\n        delete optionsSansCallbacks.callbacks;\n        this.options = optionsSansCallbacks;\n\n        callbackProxies.set(this, createCallbackProxies(callbackNames));\n\n        registerOptionsCallbacks({ callbacks: callbacks, callbackProxies: callbackProxies.get(this) });\n\n        this.methods = createFineUploader({\n            callbackProxies: callbackProxies.get(this),\n            options: optionsSansCallbacks,\n            qq: qq,\n            type: type\n        });\n\n        this.qq = qq;\n    }\n\n    _createClass(BaseWrapper, [{\n        key: 'off',\n        value: function off(name, callback) {\n            var normalizedName = normalizeCallbackName(name);\n            var proxy = callbackProxies.get(this)[normalizedName];\n\n            proxy.remove(callback);\n        }\n    }, {\n        key: 'on',\n        value: function on(name, callback) {\n            var normalizedName = normalizeCallbackName(name);\n            var proxy = callbackProxies.get(this)[normalizedName];\n\n            proxy.add(callback);\n        }\n    }]);\n\n    return BaseWrapper;\n}();\n\nexports.default = BaseWrapper;\n\n\nvar createCallbackProxies = function createCallbackProxies(names) {\n    var proxyMap = {};\n\n    names.forEach(function (callbackName) {\n        proxyMap[callbackName] = new _callbackProxy2.default(callbackName);\n    });\n\n    return proxyMap;\n};\n\nvar createFineUploader = function createFineUploader(_ref2) {\n    var callbackProxies = _ref2.callbackProxies,\n        options = _ref2.options,\n        qq = _ref2.qq,\n        type = _ref2.type;\n\n    var optionsCopy = (0, _objectAssign2.default)({ callbacks: {} }, options);\n\n    Object.keys(callbackProxies).forEach(function (callbackName) {\n        var proxy = callbackProxies[callbackName];\n\n        optionsCopy.callbacks[callbackName] = proxy.proxyFunction;\n    });\n\n    if (type === 'traditional') {\n        return new qq.FineUploaderBasic(optionsCopy);\n    } else {\n        return new qq[type].FineUploaderBasic(optionsCopy);\n    }\n};\n\nvar normalizeCallbackName = function normalizeCallbackName(name) {\n    if (!name.match(/^on[A-Z]/)) {\n        return 'on' + name[0].toUpperCase() + name.slice(1);\n    }\n\n    return name;\n};\n\nvar registerOptionsCallbacks = function registerOptionsCallbacks(_ref3) {\n    var callbacks = _ref3.callbacks,\n        callbackProxies = _ref3.callbackProxies;\n\n    Object.keys(callbacks).forEach(function (callbackName) {\n        var callbackProxy = callbackProxies[callbackName];\n\n        callbackProxy.add(callbacks[callbackName]);\n    });\n};"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _callbackNames = require('./callback-names');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar privateData = new WeakMap();\nvar callbacks = new WeakMap();\n\nvar CallbackProxy = function () {\n  function CallbackProxy(name) {\n    _classCallCheck(this, CallbackProxy);\n\n    callbacks.set(this, []);\n    privateData.set(this, {\n      name: name,\n      proxyFunction: getProxyFunction.call(this, {\n        name: name\n      })\n    });\n  }\n\n  _createClass(CallbackProxy, [{\n    key: 'add',\n    value: function add(callback) {\n      callbacks.get(this).push(callback);\n    }\n  }, {\n    key: 'remove',\n    value: function remove(callback) {\n      var index = callbacks.get(this).indexOf(callback);\n\n      if (index >= 0) {\n        callbacks.get(this).splice(index, 1);\n      }\n    }\n  }, {\n    key: 'name',\n    get: function get() {\n      return privateData.get(this).name;\n    }\n  }, {\n    key: 'proxyFunction',\n    get: function get() {\n      return privateData.get(this).proxyFunction;\n    }\n  }]);\n\n  return CallbackProxy;\n}();\n\nexports.default = CallbackProxy;\n\nvar getProxyFunction = function getProxyFunction(_ref) {\n  var name = _ref.name;\n  var proxyClassContext = this;\n  return function () {\n    for (var _len = arguments.length, originalCallbackArguments = Array(_len), _key = 0; _key < _len; _key++) {\n      originalCallbackArguments[_key] = arguments[_key];\n    }\n\n    var isThenable = _callbackNames.thenable.indexOf(name) >= 0;\n    var registeredCallbacks = callbacks.get(proxyClassContext);\n    var callbackReturnValue = void 0;\n\n    if (isThenable) {\n      callbackReturnValue = executeThenableCallbacks({\n        registeredCallbacks: registeredCallbacks,\n        originalCallbackArguments: originalCallbackArguments\n      });\n    } else {\n      (0, _objectAssign2.default)([], registeredCallbacks).every(function (callback) {\n        var returnValue = callback.apply(null, originalCallbackArguments);\n        callbackReturnValue = returnValue;\n        return returnValue !== false;\n      });\n    }\n\n    return callbackReturnValue;\n  };\n};\n\nvar executeThenableCallbacks = function executeThenableCallbacks(_ref2) {\n  var registeredCallbacks = _ref2.registeredCallbacks,\n      originalCallbackArguments = _ref2.originalCallbackArguments;\n\n  if (registeredCallbacks.length) {\n    return executeThenableCallback({\n      registeredCallbacks: (0, _objectAssign2.default)([], registeredCallbacks).reverse(),\n      originalCallbackArguments: originalCallbackArguments\n    });\n  }\n\n  return Promise.resolve();\n};\n\nvar getResultToPass = function getResultToPass(_ref3) {\n  var newResult = _ref3.newResult,\n      previousResult = _ref3.previousResult;\n\n  if (newResult !== null && (typeof newResult === 'undefined' ? 'undefined' : _typeof(newResult)) === 'object') {\n    return (0, _objectAssign2.default)({}, previousResult || {}, newResult);\n  } else {\n    return newResult || previousResult;\n  }\n};\n\nvar executeThenableCallback = function executeThenableCallback(_ref4) {\n  var registeredCallbacks = _ref4.registeredCallbacks,\n      originalCallbackArguments = _ref4.originalCallbackArguments,\n      previousResult = _ref4.previousResult;\n  return new Promise(function (resolve, reject) {\n    var callback = registeredCallbacks.pop();\n    var returnValue = callback.apply(null, originalCallbackArguments);\n\n    if (returnValue && returnValue.then) {\n      returnValue.then(function (result) {\n        var resultToPass = getResultToPass({\n          newResult: result,\n          previousResult: previousResult\n        });\n\n        if (registeredCallbacks.length) {\n          executeThenableCallback({\n            registeredCallbacks: registeredCallbacks,\n            originalCallbackArguments: originalCallbackArguments,\n            previousResult: resultToPass\n          }).then(resolve, reject);\n        } else {\n          resolve(resultToPass);\n        }\n      }).catch(function (error) {\n        return reject(error);\n      });\n    } else if (returnValue === false) {\n      reject();\n    } else {\n      var resultToPass = getResultToPass({\n        newResult: returnValue,\n        previousResult: previousResult\n      });\n\n      if (registeredCallbacks.length) {\n        executeThenableCallback({\n          registeredCallbacks: registeredCallbacks,\n          originalCallbackArguments: originalCallbackArguments,\n          previousResult: resultToPass\n        }).then(resolve, reject);\n      } else {\n        resolve(resultToPass);\n      }\n    }\n  });\n};","map":{"version":3,"sources":["/home/maliksblr92/Desktop/development/clipbucket/react/node_modules/fine-uploader-wrappers/callback-proxy.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_objectAssign","require","_objectAssign2","_interopRequireDefault","_callbackNames","__esModule","default","_classCallCheck","instance","TypeError","privateData","WeakMap","callbacks","CallbackProxy","name","set","proxyFunction","getProxyFunction","call","add","callback","get","push","remove","index","indexOf","splice","_ref","proxyClassContext","_len","arguments","originalCallbackArguments","Array","_key","isThenable","thenable","registeredCallbacks","callbackReturnValue","executeThenableCallbacks","every","returnValue","apply","_ref2","executeThenableCallback","reverse","Promise","resolve","getResultToPass","_ref3","newResult","previousResult","_ref4","reject","pop","then","result","resultToPass","catch","error"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _callbackNames = require('./callback-names');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar privateData = new WeakMap();\nvar callbacks = new WeakMap();\n\nvar CallbackProxy = function () {\n    function CallbackProxy(name) {\n        _classCallCheck(this, CallbackProxy);\n\n        callbacks.set(this, []);\n\n        privateData.set(this, {\n            name: name,\n            proxyFunction: getProxyFunction.call(this, { name: name })\n        });\n    }\n\n    _createClass(CallbackProxy, [{\n        key: 'add',\n        value: function add(callback) {\n            callbacks.get(this).push(callback);\n        }\n    }, {\n        key: 'remove',\n        value: function remove(callback) {\n            var index = callbacks.get(this).indexOf(callback);\n            if (index >= 0) {\n                callbacks.get(this).splice(index, 1);\n            }\n        }\n    }, {\n        key: 'name',\n        get: function get() {\n            return privateData.get(this).name;\n        }\n    }, {\n        key: 'proxyFunction',\n        get: function get() {\n            return privateData.get(this).proxyFunction;\n        }\n    }]);\n\n    return CallbackProxy;\n}();\n\nexports.default = CallbackProxy;\n\n\nvar getProxyFunction = function getProxyFunction(_ref) {\n    var name = _ref.name;\n\n    var proxyClassContext = this;\n\n    return function () {\n        for (var _len = arguments.length, originalCallbackArguments = Array(_len), _key = 0; _key < _len; _key++) {\n            originalCallbackArguments[_key] = arguments[_key];\n        }\n\n        var isThenable = _callbackNames.thenable.indexOf(name) >= 0;\n        var registeredCallbacks = callbacks.get(proxyClassContext);\n        var callbackReturnValue = void 0;\n\n        if (isThenable) {\n            callbackReturnValue = executeThenableCallbacks({ registeredCallbacks: registeredCallbacks, originalCallbackArguments: originalCallbackArguments });\n        } else {\n            (0, _objectAssign2.default)([], registeredCallbacks).every(function (callback) {\n                var returnValue = callback.apply(null, originalCallbackArguments);\n\n                callbackReturnValue = returnValue;\n\n                return returnValue !== false;\n            });\n        }\n\n        return callbackReturnValue;\n    };\n};\n\nvar executeThenableCallbacks = function executeThenableCallbacks(_ref2) {\n    var registeredCallbacks = _ref2.registeredCallbacks,\n        originalCallbackArguments = _ref2.originalCallbackArguments;\n\n    if (registeredCallbacks.length) {\n        return executeThenableCallback({\n            registeredCallbacks: (0, _objectAssign2.default)([], registeredCallbacks).reverse(),\n            originalCallbackArguments: originalCallbackArguments\n        });\n    }\n\n    return Promise.resolve();\n};\n\nvar getResultToPass = function getResultToPass(_ref3) {\n    var newResult = _ref3.newResult,\n        previousResult = _ref3.previousResult;\n\n    if (newResult !== null && (typeof newResult === 'undefined' ? 'undefined' : _typeof(newResult)) === 'object') {\n        return (0, _objectAssign2.default)({}, previousResult || {}, newResult);\n    } else {\n        return newResult || previousResult;\n    }\n};\n\nvar executeThenableCallback = function executeThenableCallback(_ref4) {\n    var registeredCallbacks = _ref4.registeredCallbacks,\n        originalCallbackArguments = _ref4.originalCallbackArguments,\n        previousResult = _ref4.previousResult;\n\n    return new Promise(function (resolve, reject) {\n        var callback = registeredCallbacks.pop();\n\n        var returnValue = callback.apply(null, originalCallbackArguments);\n\n        if (returnValue && returnValue.then) {\n            returnValue.then(function (result) {\n                var resultToPass = getResultToPass({ newResult: result, previousResult: previousResult });\n\n                if (registeredCallbacks.length) {\n                    executeThenableCallback({ registeredCallbacks: registeredCallbacks, originalCallbackArguments: originalCallbackArguments, previousResult: resultToPass }).then(resolve, reject);\n                } else {\n                    resolve(resultToPass);\n                }\n            }).catch(function (error) {\n                return reject(error);\n            });\n        } else if (returnValue === false) {\n            reject();\n        } else {\n            var resultToPass = getResultToPass({ newResult: returnValue, previousResult: previousResult });\n\n            if (registeredCallbacks.length) {\n                executeThenableCallback({ registeredCallbacks: registeredCallbacks, originalCallbackArguments: originalCallbackArguments, previousResult: resultToPass }).then(resolve, reject);\n            } else {\n                resolve(resultToPass);\n            }\n        }\n    });\n};"]},"metadata":{},"sourceType":"script"}